<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IsaiFlow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="music.css">
</head>

<body>

<div class="app">

  <header class="app-header">
    <h1>IsaiFlow</h1>
    <span>Feel the rhythm of Tamil melodies</span>
  </header>

  <div class="player">

    <div class="wave">
      <span></span><span></span><span></span><span></span><span></span>
    </div>

    <div class="song-info">
      <h2 id="songTitle">Munbe Vaa</h2>
      <p>A.R. Rahman</p>
    </div>

    <div class="controls">
      <button id="playBtn" onclick="togglePlay()">▶</button>
      <button onclick="nextSong()">⏭</button>
    </div>

    <div class="progress">
      <div id="progressBar"></div>
    </div>

    <audio id="audio"></audio>

  </div>

</div>

<script>
const songs = [
  { title: "Munbe Vaa", src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" },
  { title: "Vaseegara", src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" },
  { title: "Suttrum Vizhi", src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" }
];

let index = 0;
const audio = document.getElementById("audio");
const title = document.getElementById("songTitle");
const playBtn = document.getElementById("playBtn");
const bar = document.getElementById("progressBar");

function loadSong(){
  audio.src = songs[index].src;
  title.innerText = songs[index].title;
}

loadSong();

function togglePlay(){
  if(audio.paused){
    audio.play();
    playBtn.innerText = "⏸";
    document.body.classList.add("playing");
  } else {
    audio.pause();
    playBtn.innerText = "▶";
    document.body.classList.remove("playing");
  }
}

function nextSong(){
  index = (index + 1) % songs.length;
  loadSong();
  audio.play();
  playBtn.innerText = "⏸";
}

audio.addEventListener("timeupdate", () => {
  if(audio.duration){
    bar.style.width = (audio.currentTime / audio.duration) * 100 + "%";
  }
});
</script>

</body>
</html>

